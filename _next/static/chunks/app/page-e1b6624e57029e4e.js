(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{285:(e,t,a)=>{"use strict";a.d(t,{$:()=>i});var s=a(5155),n=a(2115),r=a(9708),l=a(2085),c=a(9434);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=n.forwardRef((e,t)=>{let{className:a,variant:n,size:l,asChild:i=!1,...d}=e,u=i?r.DX:"button";return(0,s.jsx)(u,{className:(0,c.cn)(o({variant:n,size:l,className:a})),ref:t,...d})});i.displayName="Button"},694:(e,t,a)=>{Promise.resolve().then(a.bind(a,4314))},4197:(e,t,a)=>{"use strict";a.d(t,{LanguageProvider:()=>c,o:()=>o});var s=a(5155),n=a(2115);let r={en:{appName:"Cash Calculator",participants:"Participants",participantId:"Participant Name",purchaseAmount:"Purchase Amount",hasBankAccount:"Has Bank Account",addParticipant:"Add Participant",currentParticipants:"Current Participants",participantsAdded:"List of participants added",id:"ID",bankAccount:"Bank Account",actions:"Actions",delete:"Delete",calculatePayments:"Calculate Payments",reviewHistory:"Review Calculation History",calculationResults:"Calculation Results",participant:"Participant",grossPayment:"Gross Payment",cashReceived:"Cash Received",netPayment:"Net Payment",cashContributed:"Cash Contributed",yes:"Yes",no:"No",enterAmount:"Enter amount",enterId:"Enter ID",error:"Error",close:"Close",timestamp:"Timestamp",results:"Results",calculation:"Calculation",noCalculationHistory:"No calculation history available.",reviewPreviousCalculations:"Review previous calculations.",fillAllFields:"Please fill in all fields.",enterValidAmount:"Please enter a valid purchase amount.",noBankParticipants:"Error: Cannot distribute cash. No bank participants.",lightMode:"Light Mode",darkMode:"Dark Mode",total:"Total",totalPurchaseAmount:"Total Purchase Amount",overallSummary:"Overall Summary",totalCalculations:"Total Calculations",uniqueParticipants:"Unique Participants",averagePurchasePerCalculation:"Average Purchase Per Calculation",totalNetBankPayments:"Total Net Bank Payments",totalCashContributed:"Total Cash Contributed",bankAccountsUsed:"Bank Account Calculations",cashOnlyUsed:"Cash-Only Calculations",enterParticipantDetails:"Enter participant details below",calculationHistory:"Calculation History",date:"Date",exportToWord:"Export to Word"},ar:{appName:"حاسبة النقود",participants:"المشاركون",participantId:"اسم المشارك",purchaseAmount:"مبلغ الشراء",hasBankAccount:"لديه حساب مصرفي",addParticipant:"إضافة مشارك",currentParticipants:"المشاركون الحاليون",participantsAdded:"قائمة المشاركين المضافة",id:"المعرف",bankAccount:"حساب مصرفي",actions:"إجراءات",delete:"حذف",calculatePayments:"حساب المدفوعات",reviewHistory:"مراجعة سجل الحسابات",calculationResults:"نتائج الحساب",participant:"مشارك",grossPayment:"المبلغ الإجمالي",cashReceived:"النقد المستلم",netPayment:"صافي الدفع",cashContributed:"النقد المساهم",yes:"نعم",no:"لا",enterAmount:"أدخل المبلغ",enterId:"أدخل المعرف",error:"خطأ",close:"إغلاق",timestamp:"الوقت",results:"النتائج",calculation:"الحساب",noCalculationHistory:"لا يوجد سجل حسابات متاح.",reviewPreviousCalculations:"مراجعة الحسابات السابقة.",fillAllFields:"يرجى ملء جميع الحقول.",enterValidAmount:"يرجى إدخال مبلغ شراء صالح.",noBankParticipants:"خطأ: لا يمكن توزيع النقد. لا يوجد مشاركون بنكيون.",lightMode:"الوضع الفاتح",darkMode:"الوضع الداكن",total:"المجموع",totalPurchaseAmount:"إجمالي مبلغ الشراء",overallSummary:"الملخص الإجمالي",totalCalculations:"إجمالي الحسابات",uniqueParticipants:"المشاركون الفريدون",averagePurchasePerCalculation:"متوسط الشراء لكل حساب",totalNetBankPayments:"إجمالي المدفوعات المصرفية الصافية",totalCashContributed:"إجمالي النقد المساهم",bankAccountsUsed:"حسابات الحساب المصرفي",cashOnlyUsed:"حسابات النقد فقط",enterParticipantDetails:"أدخل تفاصيل المشارك أدناه",calculationHistory:"تاريخ الحسابات",date:"التاريخ",exportToWord:"تصدير إلى ملف Word"}},l=(0,n.createContext)(void 0);function c(e){let{children:t}=e,[a,c]=(0,n.useState)("en");return(0,n.useEffect)(()=>{let e=localStorage.getItem("language");e&&(c(e),document.documentElement.lang=e,document.documentElement.dir="ar"===e?"rtl":"ltr")},[]),(0,s.jsx)(l.Provider,{value:{language:a,setLanguage:e=>{c(e),localStorage.setItem("language",e),document.documentElement.lang=e,document.documentElement.dir="ar"===e?"rtl":"ltr"},t:e=>{var t;return(null===(t=r[a])||void 0===t?void 0:t[e])||r.en[e]}},children:t})}function o(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}},4314:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eN});var s=a(5155),n=a(2115),r=a(4197),l=a(9434);let c=n.forwardRef((e,t)=>{let{className:a,type:n,...r}=e;return(0,s.jsx)("input",{type:n,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});c.displayName="Input";var o=a(968),i=a(2085);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(o.b,{ref:t,className:(0,l.cn)(d(),a),...n})});u.displayName=o.b.displayName;var m=a(285);let h=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});h.displayName="Card";let p=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...n})});p.displayName="CardHeader";let x=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});x.displayName="CardTitle";let f=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...n})});f.displayName="CardDescription";let b=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...n})});b.displayName="CardContent",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...n})}).displayName="CardFooter";var g=a(7484),v=a(518);let j=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(g.bL,{ref:t,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...n,children:(0,s.jsx)(g.C1,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(v.A,{className:"h-4 w-4"})})})});j.displayName=g.bL.displayName;let y=(0,i.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),N=n.forwardRef((e,t)=>{let{className:a,variant:n,...r}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,l.cn)(y({variant:n}),a),...r})});N.displayName="Alert";let k=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("h5",{ref:t,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",a),...n})});k.displayName="AlertTitle";let w=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",a),...n})});w.displayName="AlertDescription";var _=a(9968),C=a(1887),A=a(154),P=a(511),R=a(5318),F=a(5599),S=a(8027),E=a(8763),B=a(1840),H=a(2448),T=a(7270),U=a(8186),L=a(6936),O=a(172),D=a(9637),I=a(4063),M=a(8046),z=a(4301),V=a(5074),$=a(7057),q=a(8271),W=a(7390),J=a(5731),Y=a(4956),G=a(1721),K=a(286),Q=a(3422),X=a(1920),Z=a(8390),ee=a(3638),et=a(8718);let ea={arrowRight:_.A,check:v.A,chevronDown:C.A,circle:A.A,workflow:P.A,close:R.A,copy:F.A,dark:S.A,edit:E.A,externalLink:B.A,file:H.A,help:T.A,home:U.A,light:L.A,loader:O.A,mail:D.A,messageSquare:I.A,plus:M.A,plusCircle:z.A,search:V.A,server:$.A,settings:q.A,share:W.A,shield:J.A,spinner:O.A,trash:Y.A,user:G.A,users:K.A,calculator:Q.A,calendar:X.A,dollarSign:Z.A,history:ee.A,download:et.A},es=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",a),...n})})});es.displayName="Table";let en=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",a),...n})});en.displayName="TableHeader";let er=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",a),...n})});er.displayName="TableBody",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...n})}).displayName="TableFooter";let el=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...n})});el.displayName="TableRow";let ec=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...n})});ec.displayName="TableHead";let eo=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...n})});eo.displayName="TableCell",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",a),...n})}).displayName="TableCaption";var ei=a(2912);let ed=ei.bL,eu=ei.l9,em=ei.ZL;ei.bm;let eh=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(ei.hJ,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});eh.displayName=ei.hJ.displayName;let ep=n.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,s.jsxs)(em,{children:[(0,s.jsx)(eh,{}),(0,s.jsxs)(ei.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r,children:[n,(0,s.jsxs)(ei.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(R.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});ep.displayName=ei.UC.displayName;let ex=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};ex.displayName="DialogHeader";let ef=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(ei.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});ef.displayName=ei.hE.displayName;let eb=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(ei.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...n})});eb.displayName=ei.VY.displayName;var eg=a(4439);let ev=n.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,s.jsxs)(eg.bL,{ref:t,className:(0,l.cn)("relative overflow-hidden",a),...r,children:[(0,s.jsx)(eg.LM,{className:"h-full w-full rounded-[inherit]",children:n}),(0,s.jsx)(ej,{}),(0,s.jsx)(eg.OK,{})]})});ev.displayName=eg.bL.displayName;let ej=n.forwardRef((e,t)=>{let{className:a,orientation:n="vertical",...r}=e;return(0,s.jsx)(eg.VM,{ref:t,orientation:n,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===n&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===n&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...r,children:(0,s.jsx)(eg.lr,{className:"relative flex-1 rounded-full bg-border"})})});ej.displayName=eg.VM.displayName;let ey=e=>{let{history:t,onClose:a,onDelete:l}=e,{t:c}=(0,r.o)(),o=n.useMemo(()=>{if(0===t.length)return null;let e={totalCalculations:t.length,totalPurchaseAmount:0,totalParticipants:new Set,bankAccountsUsed:0,cashOnlyUsed:0,averagePurchasePerCalculation:0,totalNetBankPayments:0,totalCashContributed:0};return t.forEach(t=>{let a=t.participants.reduce((e,t)=>e+t.purchase_amount,0);e.totalPurchaseAmount+=a,t.participants.forEach(t=>e.totalParticipants.add(t.id)),t.participants.some(e=>e.has_bank_account)?e.bankAccountsUsed++:e.cashOnlyUsed++,t.results.forEach(t=>{t.net_bank_payment&&(e.totalNetBankPayments+=t.net_bank_payment),t.cash_contributed&&(e.totalCashContributed+=t.cash_contributed)})}),e.averagePurchasePerCalculation=e.totalPurchaseAmount/e.totalCalculations,e},[t]);return(0,s.jsxs)(ep,{className:"max-w-5xl",children:[(0,s.jsxs)(ex,{children:[(0,s.jsx)(ef,{className:"text-2xl",children:c("reviewHistory")}),(0,s.jsx)(eb,{children:c("reviewPreviousCalculations")})]}),0===t.length?(0,s.jsx)("p",{children:c("noCalculationHistory")}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(h,{className:"mb-6 bg-primary/10 shadow-md",children:[(0,s.jsx)(p,{className:"pb-2",children:(0,s.jsxs)(x,{className:"text-xl flex items-center gap-2",children:[(0,s.jsx)(ea.history,{className:"h-5 w-5"}),c("overallSummary")]})}),(0,s.jsx)(b,{children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"p-3 bg-background rounded-lg shadow-sm",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:c("totalCalculations")}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:null==o?void 0:o.totalCalculations})]}),(0,s.jsxs)("div",{className:"p-3 bg-background rounded-lg shadow-sm",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:c("totalPurchaseAmount")}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:null==o?void 0:o.totalPurchaseAmount.toFixed(2)})]}),(0,s.jsxs)("div",{className:"p-3 bg-background rounded-lg shadow-sm",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:c("uniqueParticipants")}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:null==o?void 0:o.totalParticipants.size})]}),(0,s.jsxs)("div",{className:"p-3 bg-background rounded-lg shadow-sm",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:c("averagePurchasePerCalculation")}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:null==o?void 0:o.averagePurchasePerCalculation.toFixed(2)})]}),(0,s.jsxs)("div",{className:"p-3 bg-background rounded-lg shadow-sm",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:c("totalNetBankPayments")}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:null==o?void 0:o.totalNetBankPayments.toFixed(2)})]}),(0,s.jsxs)("div",{className:"p-3 bg-background rounded-lg shadow-sm",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:c("totalCashContributed")}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:null==o?void 0:o.totalCashContributed.toFixed(2)})]}),(0,s.jsxs)("div",{className:"p-3 bg-background rounded-lg shadow-sm",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:c("bankAccountsUsed")}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:null==o?void 0:o.bankAccountsUsed})]}),(0,s.jsxs)("div",{className:"p-3 bg-background rounded-lg shadow-sm",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:c("cashOnlyUsed")}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:null==o?void 0:o.cashOnlyUsed})]})]})})]}),(0,s.jsx)("div",{className:"mb-4 flex justify-end",children:(0,s.jsxs)(m.$,{onClick:()=>{let e=document.createElement("div"),a=document.createElement("h1");if(a.textContent=c("calculationHistory"),e.appendChild(a),o){let t=document.createElement("div");t.innerHTML="\n        <h2>".concat(c("overallSummary"),"</h2>\n        <p>").concat(c("totalCalculations"),": ").concat(o.totalCalculations,"</p>\n        <p>").concat(c("totalPurchaseAmount"),": ").concat(o.totalPurchaseAmount.toFixed(2),"</p>\n        <p>").concat(c("uniqueParticipants"),": ").concat(o.totalParticipants.size,"</p>\n        <p>").concat(c("averagePurchasePerCalculation"),": ").concat(o.averagePurchasePerCalculation.toFixed(2),"</p>\n        <p>").concat(c("totalNetBankPayments"),": ").concat(o.totalNetBankPayments.toFixed(2),"</p>\n        <p>").concat(c("totalCashContributed"),": ").concat(o.totalCashContributed.toFixed(2),"</p>\n        <p>").concat(c("bankAccountsUsed"),": ").concat(o.bankAccountsUsed,"</p>\n        <p>").concat(c("cashOnlyUsed"),": ").concat(o.cashOnlyUsed,"</p>\n      "),e.appendChild(t)}t.forEach((a,s)=>{let n=a.participants.reduce((e,t)=>e+t.purchase_amount,0),r=document.createElement("div");if(r.innerHTML="\n        <h2>".concat(c("calculation")," ").concat(s+1,"</h2>\n        <p>").concat(c("date"),": ").concat(a.timestamp,"</p>\n        <p>").concat(c("totalPurchaseAmount"),": ").concat(n.toFixed(2),"</p>\n        \n        <h3>").concat(c("participants"),'</h3>\n        <table border="1" cellpadding="5" style="border-collapse: collapse; width: 100%;">\n          <tr>\n            <th>#</th>\n            <th>').concat(c("id"),"</th>\n            <th>").concat(c("bankAccount"),"</th>\n            <th>").concat(c("purchaseAmount"),"</th>\n          </tr>\n          ").concat(a.participants.map((e,t)=>"\n            <tr>\n              <td>".concat(t+1,"</td>\n              <td>").concat(e.id,"</td>\n              <td>").concat(e.has_bank_account?c("yes"):c("no"),"</td>\n              <td>").concat(e.purchase_amount.toFixed(2),"</td>\n            </tr>\n          ")).join(""),'\n          <tr style="font-weight: bold;">\n            <td colspan="3">').concat(c("total"),"</td>\n            <td>").concat(n.toFixed(2),"</td>\n          </tr>\n        </table>\n        \n        <h3>").concat(c("calculationResults"),'</h3>\n        <table border="1" cellpadding="5" style="border-collapse: collapse; width: 100%;">\n          <tr>\n            <th>').concat(c("participant"),"</th>\n            <th>").concat(c("bankAccount"),"</th>\n            ").concat(a.results.some(e=>e.gross_bank_payment)?"<th>".concat(c("grossPayment"),"</th>"):"","\n            ").concat(a.results.some(e=>e.cash_received)?"<th>".concat(c("cashReceived"),"</th>"):"","\n            ").concat(a.results.some(e=>e.net_bank_payment)?"<th>".concat(c("netPayment"),"</th>"):"","\n            ").concat(a.results.some(e=>e.cash_contributed)?"<th>".concat(c("cashContributed"),"</th>"):"","\n          </tr>\n          ").concat(a.results.map(e=>{var t,s,n,r;return"\n            <tr>\n              <td>".concat(e.id,"</td>\n              <td>").concat(e.has_bank_account?c("yes"):c("no"),"</td>\n              ").concat(a.results.some(e=>e.gross_bank_payment)?"<td>".concat((null===(t=e.gross_bank_payment)||void 0===t?void 0:t.toFixed(2))||"-","</td>"):"","\n              ").concat(a.results.some(e=>e.cash_received)?"<td>".concat((null===(s=e.cash_received)||void 0===s?void 0:s.toFixed(2))||"-","</td>"):"","\n              ").concat(a.results.some(e=>e.net_bank_payment)?"<td>".concat((null===(n=e.net_bank_payment)||void 0===n?void 0:n.toFixed(2))||"-","</td>"):"","\n              ").concat(a.results.some(e=>e.cash_contributed)?"<td>".concat((null===(r=e.cash_contributed)||void 0===r?void 0:r.toFixed(2))||"-","</td>"):"","\n            </tr>\n          ")}).join(""),"\n        </table>\n      "),e.appendChild(r),s<t.length-1){let t=document.createElement("div");t.style.pageBreakAfter="always",e.appendChild(t)}});let s=new Blob(["\n      <html>\n        <head>\n          <style>\n            body { font-family: Arial, sans-serif; }\n            table { border-collapse: collapse; width: 100%; margin-bottom: 20px; }\n            th, td { border: 1px solid #ddd; padding: 8px; }\n            th { background-color: #f2f2f2; }\n            h1, h2, h3 { color: #333; }\n            .page-break { page-break-after: always; }\n          </style>\n        </head>\n        <body>\n          ".concat(e.innerHTML,"\n        </body>\n      </html>\n    ")],{type:"application/msword"}),n=document.createElement("a");n.href=URL.createObjectURL(s),n.download="cash-calculator-history-".concat(new Date().toISOString().slice(0,10),".doc"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},variant:"outline",className:"flex items-center gap-2",disabled:0===t.length,children:[(0,s.jsx)(ea.download,{className:"h-4 w-4"}),c("exportToWord")]})}),(0,s.jsx)(ev,{className:"h-[400px] w-full",children:(0,s.jsx)("div",{className:"grid gap-6",children:t.map(e=>{let a=e.participants.reduce((e,t)=>e+t.purchase_amount,0);return(0,s.jsxs)(h,{className:"border-l-4 border-primary",children:[(0,s.jsxs)(p,{className:"pb-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)(x,{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"bg-primary text-primary-foreground w-6 h-6 rounded-full flex items-center justify-center text-sm",children:t.findIndex(t=>t.id===e.id)+1}),c("calculation")]}),(0,s.jsx)(m.$,{variant:"destructive",size:"sm",onClick:()=>l(e.id),children:c("delete")})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 mt-2",children:[(0,s.jsxs)(f,{className:"flex items-center gap-1",children:[(0,s.jsx)(ea.calendar,{className:"h-4 w-4"}),e.timestamp]}),(0,s.jsxs)(f,{className:"flex items-center gap-1",children:[(0,s.jsx)(ea.dollarSign,{className:"h-4 w-4"}),c("totalPurchaseAmount"),": ",a.toFixed(2)]})]})]}),(0,s.jsx)(b,{children:(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[(0,s.jsx)(ea.users,{className:"h-4 w-4"}),c("participants")]}),(0,s.jsxs)(es,{children:[(0,s.jsx)(en,{children:(0,s.jsxs)(el,{children:[(0,s.jsx)(ec,{children:"#"}),(0,s.jsx)(ec,{children:c("id")}),(0,s.jsx)(ec,{children:c("bankAccount")}),(0,s.jsx)(ec,{children:c("purchaseAmount")})]})}),(0,s.jsxs)(er,{children:[e.participants.map((e,t)=>(0,s.jsxs)(el,{children:[(0,s.jsx)(eo,{children:t+1}),(0,s.jsx)(eo,{children:e.id}),(0,s.jsx)(eo,{children:e.has_bank_account?c("yes"):c("no")}),(0,s.jsx)(eo,{children:e.purchase_amount.toFixed(2)})]},e.id)),(0,s.jsxs)(el,{className:"font-bold bg-muted/50",children:[(0,s.jsx)(eo,{colSpan:3,children:c("total")}),(0,s.jsx)(eo,{children:a.toFixed(2)})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[(0,s.jsx)(ea.calculator,{className:"h-4 w-4"}),c("calculationResults")]}),(0,s.jsxs)(es,{children:[(0,s.jsx)(en,{children:(0,s.jsxs)(el,{children:[(0,s.jsx)(ec,{children:c("participant")}),(0,s.jsx)(ec,{children:c("bankAccount")}),e.results.some(e=>e.gross_bank_payment)&&(0,s.jsx)(ec,{children:c("grossPayment")}),e.results.some(e=>e.cash_received)&&(0,s.jsx)(ec,{children:c("cashReceived")}),e.results.some(e=>e.net_bank_payment)&&(0,s.jsx)(ec,{children:c("netPayment")}),e.results.some(e=>e.cash_contributed)&&(0,s.jsx)(ec,{children:c("cashContributed")})]})}),(0,s.jsx)(er,{children:e.results.map(t=>{var a,n,r,l;return(0,s.jsxs)(el,{children:[(0,s.jsx)(eo,{children:t.id}),(0,s.jsx)(eo,{children:t.has_bank_account?c("yes"):c("no")}),e.results.some(e=>e.gross_bank_payment)&&(0,s.jsx)(eo,{children:(null===(a=t.gross_bank_payment)||void 0===a?void 0:a.toFixed(2))||"-"}),e.results.some(e=>e.cash_received)&&(0,s.jsx)(eo,{children:(null===(n=t.cash_received)||void 0===n?void 0:n.toFixed(2))||"-"}),e.results.some(e=>e.net_bank_payment)&&(0,s.jsx)(eo,{children:(null===(r=t.net_bank_payment)||void 0===r?void 0:r.toFixed(2))||"-"}),e.results.some(e=>e.cash_contributed)&&(0,s.jsx)(eo,{children:(null===(l=t.cash_contributed)||void 0===l?void 0:l.toFixed(2))||"-"})]},t.id)})})]})]})]})})]},e.id)})})})]}),(0,s.jsx)(m.$,{onClick:a,className:"mt-4",children:c("close")})]})};function eN(){let{t:e}=(0,r.o)(),[t,a]=(0,n.useState)([{id:"1",has_bank_account:!0,purchase_amount:20},{id:"2",has_bank_account:!1,purchase_amount:30},{id:"3",has_bank_account:!0,purchase_amount:50}]),[l,o]=(0,n.useState)(""),[i,d]=(0,n.useState)(!0),[g,v]=(0,n.useState)(""),[y,_]=(0,n.useState)([]),[C,A]=(0,n.useState)(null),[P,R]=(0,n.useState)([]),[F,S]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=localStorage.getItem("calculationHistory");e&&R(JSON.parse(e))},[]),(0,n.useEffect)(()=>{localStorage.setItem("calculationHistory",JSON.stringify(P))},[P]);let E=e=>{a(t.filter(t=>t.id!==e)),_([]),A(null)};return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-start min-h-screen bg-secondary p-8",children:[(0,s.jsxs)("div",{className:"w-full max-w-4xl grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)(h,{className:"w-full",children:[(0,s.jsxs)(p,{children:[(0,s.jsx)(x,{children:e("addParticipant")}),(0,s.jsx)(f,{children:e("enterParticipantDetails")})]}),(0,s.jsxs)(b,{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(u,{htmlFor:"participant-id",children:e("participantId")}),(0,s.jsx)(c,{id:"participant-id",placeholder:e("enterId"),value:l,onChange:e=>o(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(u,{htmlFor:"purchase-amount",children:e("purchaseAmount")}),(0,s.jsx)(c,{id:"purchase-amount",type:"number",placeholder:e("enterAmount"),value:g,onChange:e=>v(""===e.target.value?"":Number(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(j,{id:"bank-account",checked:i,onCheckedChange:e=>d(!!e)}),(0,s.jsx)(u,{htmlFor:"bank-account",children:e("hasBankAccount")})]}),(0,s.jsx)(m.$,{onClick:()=>{if(!l||""===g){alert(e("fillAllFields"));return}let s=Number(g);if(isNaN(s)){alert(e("enterValidAmount"));return}a([...t,{id:l,has_bank_account:i,purchase_amount:s}]),o(""),d(!1),v("")},children:e("addParticipant")})]})]}),(0,s.jsxs)(h,{className:"w-full",children:[(0,s.jsxs)(p,{children:[(0,s.jsx)(x,{children:e("currentParticipants")}),(0,s.jsx)(f,{children:e("participantsAdded")})]}),(0,s.jsx)(b,{children:(0,s.jsxs)(es,{children:[(0,s.jsx)(en,{children:(0,s.jsxs)(el,{children:[(0,s.jsx)(ec,{children:"#"}),(0,s.jsx)(ec,{children:e("id")}),(0,s.jsx)(ec,{children:e("bankAccount")}),(0,s.jsx)(ec,{children:e("purchaseAmount")}),(0,s.jsx)(ec,{children:e("actions")})]})}),(0,s.jsxs)(er,{children:[t.map((t,a)=>(0,s.jsxs)(el,{children:[(0,s.jsx)(eo,{children:a+1}),(0,s.jsx)(eo,{children:t.id}),(0,s.jsx)(eo,{children:t.has_bank_account?e("yes"):e("no")}),(0,s.jsx)(eo,{children:t.purchase_amount}),(0,s.jsx)(eo,{children:(0,s.jsx)(m.$,{variant:"destructive",size:"sm",onClick:()=>E(t.id),children:e("delete")})})]},t.id)),(0,s.jsxs)(el,{className:"font-bold bg-muted/50",children:[(0,s.jsx)(eo,{colSpan:2,children:e("total")}),(0,s.jsx)(eo,{children:"-"}),(0,s.jsx)(eo,{children:t.reduce((e,t)=>e+t.purchase_amount,0)}),(0,s.jsx)(eo,{children:"-"})]})]})]})})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,s.jsx)(m.$,{onClick:()=>{A(null);let a=t.reduce((e,t)=>e+t.purchase_amount,0),s=t.filter(e=>e.has_bank_account),n=t.filter(e=>!e.has_bank_account),r=s.reduce((e,t)=>e+t.purchase_amount,0),l=n.reduce((e,t)=>e+t.purchase_amount,0);if(0===r){A(e("noBankParticipants")),_([]);return}let c=[...s.map(e=>{let t=e.purchase_amount/r,s=t*a,n=t*l;return{...e,gross_bank_payment:s,cash_received:n,net_bank_payment:s-n}}),...n.map(e=>({...e,cash_contributed:e.purchase_amount}))];_(c);let o={id:Date.now().toString(),participants:[...t],results:c,timestamp:new Date().toLocaleString()};R(e=>[...e,o])},className:"px-8",children:e("calculatePayments")}),(0,s.jsxs)(ed,{open:F,onOpenChange:S,children:[(0,s.jsx)(eu,{asChild:!0,children:(0,s.jsx)(m.$,{variant:"secondary",className:"px-8",children:e("reviewHistory")})}),(0,s.jsx)(ey,{history:P,onClose:()=>S(!1),onDelete:e=>{R(P.filter(t=>t.id!==e))}})]})]}),C&&(0,s.jsxs)(N,{variant:"destructive",className:"mt-4 w-full max-w-4xl",children:[(0,s.jsx)(ea.close,{className:"h-4 w-4"}),(0,s.jsx)(k,{children:e("error")}),(0,s.jsx)(w,{children:C})]}),y.length>0&&(0,s.jsxs)(h,{className:"mt-4 w-full max-w-4xl",children:[(0,s.jsx)(p,{children:(0,s.jsx)(x,{children:e("calculationResults")})}),(0,s.jsx)(b,{children:(0,s.jsx)("ul",{children:y.map(t=>{var a,n,r,l;return(0,s.jsxs)("li",{className:"mb-2",children:[(0,s.jsxs)("strong",{children:[e("participant")," ",t.id,":"]}),t.has_bank_account?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{children:[e("grossPayment"),": ",null===(a=t.gross_bank_payment)||void 0===a?void 0:a.toFixed(2)]}),(0,s.jsxs)("p",{children:[e("cashReceived"),": ",null===(n=t.cash_received)||void 0===n?void 0:n.toFixed(2)]}),(0,s.jsxs)("p",{className:"text-accent",children:[e("netPayment"),": ",null===(r=t.net_bank_payment)||void 0===r?void 0:r.toFixed(2)]})]}):(0,s.jsxs)("p",{className:"text-accent",children:[e("cashContributed"),": ",null===(l=t.cash_contributed)||void 0===l?void 0:l.toFixed(2)]})]},t.id)})})})]})]})}},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>r});var s=a(2596),n=a(9688);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[723,107,441,684,358],()=>t(694)),_N_E=e.O()}]);